let t;!async function(e){const a=await fetch("https://api.themoviedb.org/3/genre/movie/list?api_key=14ce8915ef52d801924d89668f2ca827").then((t=>{if(!t.ok)throw new Error(t.status);return t.json()})).catch((t=>t.status)).then((t=>t.genres)),n=await(i=e,fetch(`https://api.themoviedb.org/3/trending/movie/day?api_key=14ce8915ef52d801924d89668f2ca827&page=${i}`).then((t=>{if(!t.ok)throw new Error(t.status);return t.json()})).catch((t=>t.status))).then((t=>t.results));var i;(function(t,e){t.forEach((t=>{const a=t.genre_ids.map((t=>{const a=e.find((e=>e.id===t));return a?a.name:"Unknown"}));t.genres=a.length<3?a.join(", "):`${a[0]}, ${a[1]} and other`}))})(n,a),s=n,s.map((({id:e,poster_path:a,original_title:n,release_date:i,genres:s})=>{const l=i.slice(0,4);t="https://image.tmdb.org/t/p/original"+a;const o=`\n        <li class="item" data-id="${e}">\n            <a class="item__link" href="">\n            <div class="item__img-frame">\n                <img\n                class="item__img"\n                data-id="${e}"\n                src=${t}\n                alt="${n}"\n                loading="lazy"\n                />\n            </div>\n            <div class="item__text-frame">\n                <h3 class="item__text title">${n}</h3>\n                <h3 class="item__text">${s} | ${l}</h3>\n            </div>\n            </a>\n        </li>`;var c;(c=".gallery",document.querySelector(c)).insertAdjacentHTML("beforeend",o)})).join("");var s}(1);let e;const a=t=>document.querySelector(t);function n(){document.removeEventListener("keydown",i),a(".backdrop").classList.add("is-hidden"),a("body").classList.remove("no-scroll"),a(".modal__window").innerHTML=""}function i(t){"Escape"===t.code&&n()}a(".gallery").addEventListener("click",(function(t){if(t.preventDefault(),!t.target.closest("li")&&!t.target.classList.contains("item")||t.target.classList.contains("gallery"))return;(n=t.target.closest("li").dataset.id,fetch(`https://api.themoviedb.org/3/movie/${n}?api_key=14ce8915ef52d801924d89668f2ca827`).then((t=>{if(!t.ok)throw new Error(t.status);return t.json()})).catch((t=>console.log(t)))).then((t=>{!function({id:t,original_title:n,overview:i,poster_path:s,popularity:l,vote_average:o,vote_count:c,genres:r}){e="https://image.tmdb.org/t/p/original"+s;const d=Math.round(l),_=r.map((t=>t.name)).join(", "),m=`\n            <div class="modal__container">\n                <div class="modal__img-wrap">\n                    <img class="modal__img" src="${e}" alt="${n}">\n                </div>\n                <div class="modal__about-movie">\n                    <h3 class="modal__title" data-id="${t}">${n}</h3>\n                    <div class="modal__text-wrap">\n                        <ul>\n                            <li class="modal__text-characteristic">Vote / Votes</li>\n                            <li class="modal__text-characteristic-value"><span class="vote average">${o}</span> / <span class="vote count">${c}</span></li>\n                        </ul>\n                        <ul>\n                            <li class="modal__text-characteristic">Popularity</li>\n                            <li class="modal__text-characteristic-value">${d}</li>\n                        </ul>\n                        <ul>\n                            <li class="modal__text-characteristic">Original Title</li>\n                            <li class="modal__text-characteristic-value">${n}</li>\n                        </ul>\n                        <ul>\n                            <li class="modal__text-characteristic">Genre</li>\n                            <li class="modal__text-characteristic-value">${_}</li>\n                        </ul>\n                    </div>\n                    <div class="modal__overview-wrap">\n                        <h3 class="modal__overview-title">About</h3>\n                        <p class="modal__overview-text">${i}</p>\n                    </div>\n                    <div class="modal__btn-wrap">\n                        <button class="modal__btn w" type="button">add to Watched</button>\n                        <button class="modal__btn q" type="button">add to queue</button>\n                    </div>\n                </div>\n            </div>\n      `;a(".modal__window").innerHTML=m}(t)})),document.addEventListener("keydown",i),a(".backdrop").classList.remove("is-hidden"),a("body").classList.add("no-scroll");var n})),a(".modal__btn-close").addEventListener("click",n),a(".backdrop").addEventListener("click",(function(t){t.currentTarget===t.target&&n()}));
//# sourceMappingURL=library.89720ef6.js.map
