let t;!async function(e){const a=await fetch("https://api.themoviedb.org/3/genre/movie/list?api_key=14ce8915ef52d801924d89668f2ca827").then((t=>{if(!t.ok)throw new Error(t.status);return t.json()})).catch((t=>t.status)).then((t=>t.genres)),n=await(i=e,fetch(`https://api.themoviedb.org/3/trending/movie/day?api_key=14ce8915ef52d801924d89668f2ca827&page=${i}`).then((t=>{if(!t.ok)throw new Error(t.status);return t.json()})).catch((t=>t.status))).then((t=>t.results));var i;(function(t,e){t.forEach((t=>{const a=t.genre_ids.map((t=>{const a=e.find((e=>e.id===t));return a?a.name:"Unknown"}));t.genres=a.length<3?a.join(", "):`${a[0]}, ${a[1]} and other`}))})(n,a),s=n,s.map((({id:e,poster_path:a,original_title:n,release_date:i,genres:s})=>{const l=i.slice(0,4);t="https://image.tmdb.org/t/p/original"+a;const o=`\n        <li class="item" data-id="${e}">\n            <a class="item__link" href="">\n            <div class="item__img-frame">\n                <img\n                class="item__img"\n                data-id="${e}"\n                src=${t}\n                alt="${n}"\n                loading="lazy"\n                />\n            </div>\n            <div class="item__text-frame">\n                <h3 class="item__text title">${n}</h3>\n                <h3 class="item__text">${s} | ${l}</h3>\n            </div>\n            </a>\n        </li>`;var c;(c=".gallery",document.querySelector(c)).insertAdjacentHTML("beforeend",o)})).join("");var s}(1);const e=t=>document.querySelector(t);function a(){document.removeEventListener("keydown",n),e(".backdrop").classList.add("is-hidden"),e("body").classList.remove("no-scroll"),e(".modal__window").innerHTML=""}function n(t){"Escape"===t.code&&a()}e(".gallery").addEventListener("click",(function(t){if(t.preventDefault(),!t.target.closest("li")&&!t.target.classList.contains("item")||t.target.classList.contains("gallery"))return;(a=t.target.closest("li").dataset.id,fetch(`https://api.themoviedb.org/3/movie/${a}?api_key=14ce8915ef52d801924d89668f2ca827`).then((t=>{if(!t.ok)throw new Error(t.status);return t.json()})).catch((t=>console.log(t)))).then((t=>{!function({id:t,original_title:a,overview:n,poster_path:i,popularity:s,vote_average:l,vote_count:o,genres:c}){src="https://image.tmdb.org/t/p/original"+i;const r=Math.round(s),d=c.map((t=>t.name)).join(", "),_=`\n            <div class="modal__container">\n                <div class="modal__img-wrap">\n                    <img class="modal__img" src="${src}" alt="${a}">\n                </div>\n                <div class="modal__about-movie">\n                    <h3 class="modal__title" data-id="${t}">${a}</h3>\n                    <div class="modal__text-wrap">\n                        <ul>\n                            <li class="modal__text-characteristic">Vote / Votes</li>\n                            <li class="modal__text-characteristic-value"><span class="vote average">${l}</span> / <span class="vote count">${o}</span></li>\n                        </ul>\n                        <ul>\n                            <li class="modal__text-characteristic">Popularity</li>\n                            <li class="modal__text-characteristic-value">${r}</li>\n                        </ul>\n                        <ul>\n                            <li class="modal__text-characteristic">Original Title</li>\n                            <li class="modal__text-characteristic-value">${a}</li>\n                        </ul>\n                        <ul>\n                            <li class="modal__text-characteristic">Genre</li>\n                            <li class="modal__text-characteristic-value">${d}</li>\n                        </ul>\n                    </div>\n                    <div class="modal__overview-wrap">\n                        <h3 class="modal__overview-title">About</h3>\n                        <p class="modal__overview-text">${n}</p>\n                    </div>\n                    <div class="modal__btn-wrap">\n                        <button class="modal__btn w" type="button">add to Watched</button>\n                        <button class="modal__btn q" type="button">add to queue</button>\n                    </div>\n                </div>\n            </div>\n      `;e(".modal__window").innerHTML=_}(t)})),document.addEventListener("keydown",n),e(".backdrop").classList.remove("is-hidden"),e("body").classList.add("no-scroll");var a})),e(".modal__btn-close").addEventListener("click",a),e(".backdrop").addEventListener("click",(function(t){t.currentTarget===t.target&&a()}));
//# sourceMappingURL=library.aa581848.js.map
