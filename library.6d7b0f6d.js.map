{"mappings":"AAGA,IACIA,EADAC,EAAO,EAGX,MAAMC,EAAQC,GAAYC,SAASC,cAAcF,GAiB1C,SAASG,IACd,OAAOC,MAAM,0FACVC,MAAKC,IACJ,IAAKA,EAASC,GACZ,MAAM,IAAIC,MAAMF,EAASG,QAE3B,OAAOH,EAASI,MAAM,IAEvBC,OAAMC,GAASA,EAAMH,Q,CAGnB,SAASI,EAAcC,EAAUC,GACtCD,EAASE,SAAQC,IACf,MAAMC,EAAQD,EAAKE,UAAUC,KAAIC,IAC/B,MAAMC,EAAQP,EAAUQ,MAAKC,GAASA,EAAMH,KAAOA,IACnD,OAAOC,EAAQA,EAAMG,KAAO,SAAS,IAEvCR,EAAKS,OACHR,EAAMS,OAAS,EACXT,EAAMU,KAAK,MACX,GAAGV,EAAM,OAAOA,EAAM,cAAc,G,CAIvC,SAASW,EAAoBC,GAClC,OAAOA,EACJV,KAAI,EAACC,GAAEA,EAAEU,YAAEA,EAAWC,eAAEA,EAAcC,aAAEA,EAAYP,OAAEA,MACrD,MAAMQ,EAASD,EAAaE,MAAM,EAAG,GACrCtC,EAjDqB,sCAiDMkC,EAC3B,MAAMK,EAAS,uCACef,iLAKTA,2BACLxB,2BACCmC,wKAKwBA,kDACNN,OAAYQ,8DAI/CnC,EAAM,YAAYsC,mBAAmB,YAAaD,EAAO,IAE1DR,KAAK,G,CAGHU,eAAeC,EAAcC,GAEhCA,EADEC,aAAaC,QAAQ,uBAChBD,aAAaC,QAAQ,uBAErB,EAET,MAAM3B,QAAkBZ,IAAcE,MAAKyB,GAAQA,EAAKJ,SAClDZ,QAtEU6B,EAsEgBH,EArEzBpC,MAAM,iGAA0DuC,KACpEtC,MAAKC,IACJ,IAAKA,EAASC,GACZ,MAAM,IAAIC,MAAMF,EAASG,QAE3B,OAAOH,EAASI,MAAM,IAEvBC,OAAMC,GAASA,EAAMH,UA8DcJ,MAAKyB,GAAQA,EAAKc,UAtE1D,IAAkBD,EAuEhB9B,EAAcC,EAAUC,GACxBc,EAAoBf,E,CA5EtBf,EAAM,gBAAgB8C,iBAAiB,SA+EvC,WACEJ,aAAaK,WAAW,yBACxBL,aAAaK,WAAW,uBACxBhD,EAAO,EACPyC,EAAczC,E,IAjFhByC,EAAczC,GCPd,MAAMiD,EAAQ/C,GAAYC,SAASC,cAAcF,GACjD,IAAIgD,EAAOC,OAAOR,aAAaC,QAAQ,yBAA2B,EAsFlE,SAASQ,IACP,MAAMC,EAAUJ,EAAM,yBAAyBK,kBACzCC,EAASN,EAAM,yBAAyBO,iBACxCC,EAAaN,OAAOE,EAAQK,QAAQC,OAAS,EAC7CC,EAAaH,EAAa,EAChC,GACEJ,EAAQQ,UAAUC,SAAS,iBACO,IAAlCX,OAAOE,EAAQK,QAAQC,OACvB,CACAJ,EAAOQ,SACP,MAAMC,EAAgB,iEAAiEP,MAAeG,aACtGX,EAAM,yBAAyBV,mBAC7B,aACAyB,E,EAKN,SAASC,IACP,MAAMZ,EAAUJ,EAAM,yBAAyBK,kBACzCC,EAASN,EAAM,yBAAyBO,iBACxCU,EAAaf,OAAOI,EAAOG,QAAQC,OAAS,EAC5CQ,EAAahB,OAAOe,GAAcf,OAAO,GAC/C,GAAII,EAAOM,UAAUC,SAAS,gBAAiB,CAC7CT,EAAQU,SACR,MAAMK,EAAgB,iEAAiEF,MAAeC,aACtGlB,EAAM,yBAAyBV,mBAC7B,YACA6B,E,EAKC,SAASC,EAAcxB,GACP,IAAjBM,OAAON,GACTI,EAAM,yBAAyBY,UAAUS,IAAI,cAE7CrB,EAAM,yBAAyBY,UAAUE,OAAO,a,CAI7C,SAASQ,IACd,MAAMC,EAAa7B,aAAaC,QAAQ,uBAClC6B,EAAStE,SAASuE,iBAAiB,wBACnCC,EAAmBxE,SAASC,cAAc,iBAC1CwE,EAAa,IAAIH,GAAQhD,MAC7BoD,GAAO1B,OAAO0B,EAAIC,eAAiB3B,OAAOqB,KAExCG,GAAoBC,IACtBD,EAAiBd,UAAUE,OAAO,gBAClCa,EAAWf,UAAUS,IAAI,gB,CAtI7BrB,EAAM,yBAAyBF,iBAAiB,SA6DhD,SAAuBgC,GACrB9B,EAAM,YAAY+B,UAAY,GAC9B,MAAML,EAAmBxE,SAASC,cAAc,iBAC5CuE,GACFA,EAAiBd,UAAUE,OAAO,gBAEpCgB,EAAEE,OAAOpB,UAAUS,IAAI,gBACvBpB,EAAO6B,EAAEE,OAAOH,YAChBnC,aAAauC,QAAQ,sBAAuBhC,GAC5CmB,EAAclB,OAAOR,aAAaC,QAAQ,yBAA2B,GACrEQ,IACAa,IACAM,IACI5B,aAAaC,QAAQ,yBACvBuC,EACEhC,OAAOR,aAAaC,QAAQ,yBAA2B,EACvDD,aAAaC,QAAQ,0BAGvBH,EAAcU,OAAOR,aAAaC,QAAQ,yBAA2B,E,IA/EzEK,EAAM,yBAAyBF,iBAAiB,SAMhD,WACEE,EAAM,YAAY+B,UAAY,GAC9B,MAAML,EACJxE,SAASC,cAAc,kBACvB+C,OAAOR,aAAaC,QAAQ,wBAC1B+B,GACFA,EAAiBd,UAAUE,OAAO,gBAEpC,GAAIZ,OAAOwB,EAAiBG,eAAiB3B,OAAO,GAAI,CACtD,MAAMiC,EAAUjC,OAAOwB,EAAiBG,aAAe,EACvDnC,aAAauC,QAAQ,sBAAuBE,GAC5CT,EAAiBU,uBAAuBxB,UAAUS,IAAI,e,KACjD,CACL,MAAMc,EAAU,EAChBzC,aAAauC,QAAQ,sBAAuBE,GAC5CT,EAAiBd,UAAUS,IAAI,e,CAEjCD,EAAclB,OAAOR,aAAaC,QAAQ,yBAA2B,GACrEQ,IACAmB,IACI5B,aAAaC,QAAQ,yBACvBuC,EACEhC,OAAOR,aAAaC,QAAQ,yBAA2B,EACvDD,aAAaC,QAAQ,0BAGvBH,EAAcU,OAAOR,aAAaC,QAAQ,yBAA2B,E,IA/BzEK,EAAM,yBAAyBF,iBAAiB,SAmChD,WACEE,EAAM,YAAY+B,UAAY,GAC9B,MAAML,EACJxE,SAASC,cAAc,kBACvB+C,OAAOR,aAAaC,QAAQ,wBAC1B+B,GACFA,EAAiBd,UAAUE,OAAO,gBAEpCY,EAAiBW,mBAAmBzB,UAAUS,IAAI,gBAClD,MAAMc,EAAUjC,OAAOwB,EAAiBG,aAAe,EACvDnC,aAAauC,QAAQ,sBAAuBE,GAC5Cf,EAAclB,OAAOR,aAAaC,QAAQ,yBAA2B,GACrEqB,IACAM,IACI5B,aAAaC,QAAQ,yBACvBuC,EACEhC,OAAOR,aAAaC,QAAQ,yBAA2B,EACvDD,aAAaC,QAAQ,0BAGvBH,EAAcU,OAAOR,aAAaC,QAAQ,yBAA2B,E,IArDzE2B,IACAF,EAAcnB,GCHd,IAAIqC,EACAC,EAEJ,MAAMC,EAAQvF,GAAYC,SAASC,cAAcF,GAiB1CsC,eAAe2C,EAAYzC,EAAMgD,GACtCD,EAAM,YAAYT,UAAY,GAC9B,MAAM/D,QAAkBZ,IAAcE,MAAKyB,GAAQA,EAAKJ,SAClDZ,QAhBa6B,EAgBgBH,EAhBViD,EAgBgBD,EAflCpF,MACL,4FAAqDqF,UAAa9C,KAEjEtC,MAAKC,IACJ,IAAKA,EAASC,GACZ,MAAM,IAAIC,MAAMF,EAASG,QAE3B,OAAOH,EAASI,MAAM,IAEvBC,OAAMC,GAASA,EAAMH,UAMuBJ,MAAKyB,GAAQA,EAAKc,UAhBnE,IAAqBD,EAAM8C,EAiBzB5E,EAAcC,EAAUC,GACxBc,EAAoBf,E,CApBtByE,EAAM,gBAAgB1C,iBAAiB,UAuBvC,SAAkBgC,GAIhB,GAHAA,EAAEa,iBACFL,EAAO,EACP5C,aAAauC,QAAQ,sBADd,GAE6C,KAAhDO,EAAM,gBAAgBI,SAASC,OAAOC,MACxC,OAEAP,EAAOC,EAAM,gBAAgBI,SAASC,OAAOC,MAC7CpD,aAAauC,QAAQ,wBAAyBM,GAEhDnB,EARO,GASPE,IACAY,EAVO,EAUWK,E,IC7CpB,IAAIQ,EAEJ,MAAMC,EAAQ/F,GAAYC,SAASC,cAAcF,GAsCjD,SAASgG,IACP/F,SAASgG,oBAAoB,UAAWC,GACxCH,EAAM,aAAapC,UAAUS,IAAI,aACjC2B,EAAM,QAAQpC,UAAUE,OAAO,aAC/BkC,EAAM,kBAAkBjB,UAAY,E,CAStC,SAASoB,EAAWrB,GACH,WAAXA,EAAEsB,MACJH,G,CAnDJD,EAAM,YAAYlD,iBAAiB,SAenC,SAAuBgC,GAErB,GADAA,EAAEa,kBAEEb,EAAEE,OAAOqB,QAAQ,QAAUvB,EAAEE,OAAOpB,UAAUC,SAAS,SACzDiB,EAAEE,OAAOpB,UAAUC,SAAS,WAE5B,QAjBqBvC,EAmBPwD,EAAEE,OAAOqB,QAAQ,MAAM5C,QAAQnC,GAlBxCjB,MAAM,sCAAqBiB,8CAC/BhB,MAAKC,IACJ,IAAKA,EAASC,GACZ,MAAM,IAAIC,MAAMF,EAASG,QAE3B,OAAOH,EAASI,MAAM,IAEvBC,OAAMC,GAASyF,QAAQC,IAAI1F,MAYLP,MAAKyB,KA+BhC,UAA4BT,GAC1BA,EAAEW,eACFA,EAAcuE,SACdA,EAAQxE,YACRA,EAAWyE,WACXA,EAAUC,aACVA,EAAYC,WACZA,EAAUhF,OACVA,IAEAoE,EAtEyB,sCAsEE/D,EAC3B,MAAM4E,EAAUC,KAAKC,MAAML,GACrBM,EAAapF,EAAON,KAAII,GAASA,EAAMC,OAAMG,KAAK,MAClDQ,EAAS,iJAGkC0D,WAAa9D,wIAGRX,MAAOW,uRAIuCyE,uCAAkDC,4OAI7EC,yOAIA3E,gOAIA8E,4PAKjBP,6VASxDR,EAAM,kBAAkBjB,UAAY1C,C,CA/ElC2E,CAAmBjF,EAAK,IAM1B7B,SAAS4C,iBAAiB,UAAWqD,GACrCH,EAAM,aAAapC,UAAUE,OAAO,aACpCkC,EAAM,QAAQpC,UAAUS,IAAI,aA7B9B,IAAyB/C,C,IAHzB0E,EAAM,qBAAqBlD,iBAAiB,QAASmD,GACrDD,EAAM,aAAalD,iBAAiB,SAyCpC,SAAyBgC,GACnBA,EAAEmC,gBAAkBnC,EAAEE,QACxBiB,G,ICpDJ,MAAMiB,EAAQjH,GAAYC,SAASC,cAAcF,GACjD,IAAIkH,EAEJC,OAAOtE,iBAAiB,UAGxB,WACM+D,KAAKC,MAAM5G,SAASmH,gBAAgBC,WAAa,IACnDH,EAAUI,YAAW,KACnBA,YAAW,KACLV,KAAKC,MAAM5G,SAASmH,gBAAgBC,WAAa,KACnDJ,EAAM,gBAAgBtD,UAAUE,OAAO,YAAY,GAEpD,EAAE,GACJ,MAEHoD,EAAM,gBAAgBtD,UAAUS,IAAI,aACpCmD,aAAaL,G,IAbjBD,EAAM,gBAAgBpE,iBAAiB,SAiBhC,WACLoE,EAAM,gBAAgBtD,UAAUS,IAAI,aAChCnE,SAASmH,gBAAgBC,UAAY,GACvCF,OAAOK,SAAS,CAAEC,IAAK,EAAGC,KAAM,EAAGC,SAAU,U","sources":["src/js/gallery/gallery-render.js","src/js/pagination/pagination.js","src/js/search/search.js","src/js/movie-card/movie-card.js","src/js/scroll/scroll.js"],"sourcesContent":["const BASE_URL = 'https://api.themoviedb.org/3';\nconst API_KEY = '14ce8915ef52d801924d89668f2ca827';\nconst HTTPS_IMG_ORIGINAL = 'https://image.tmdb.org/t/p/original';\nlet page = 1;\nlet src;\n\nconst getEl = selector => document.querySelector(selector);\n\ngetEl('.header-logo').addEventListener('click', clockOnLogo);\n\ncreateGallery(page);\n\nfunction fetchAPI(page) {\n  return fetch(`${BASE_URL}/trending/movie/day?api_key=${API_KEY}&page=${page}`)\n    .then(response => {\n      if (!response.ok) {\n        throw new Error(response.status);\n      }\n      return response.json();\n    })\n    .catch(error => error.status);\n}\n\nexport function fetchGenres() {\n  return fetch(`${BASE_URL}/genre/movie/list?api_key=${API_KEY}`)\n    .then(response => {\n      if (!response.ok) {\n        throw new Error(response.status);\n      }\n      return response.json();\n    })\n    .catch(error => error.status);\n}\n\nexport function getGenreNames(filmsArr, genresArr) {\n  filmsArr.forEach(film => {\n    const names = film.genre_ids.map(id => {\n      const objId = genresArr.find(genre => genre.id === id);\n      return objId ? objId.name : 'Unknown';\n    });\n    film.genres =\n      names.length < 3\n        ? names.join(', ')\n        : `${names[0]}, ${names[1]} and other`;\n  });\n}\n\nexport function createGalleryMarkup(data) {\n  return data\n    .map(({ id, poster_path, original_title, release_date, genres }) => {\n      const relise = release_date.slice(0, 4);\n      src = HTTPS_IMG_ORIGINAL + poster_path;\n      const markup = `\n        <li class=\"item\" data-id=\"${id}\">\n            <a class=\"item__link\" href=\"\">\n            <div class=\"item__img-frame\">\n                <img\n                class=\"item__img\"\n                data-id=\"${id}\"\n                src=${src}\n                alt=\"${original_title}\"\n                loading=\"lazy\"\n                />\n            </div>\n            <div class=\"item__text-frame\">\n                <h3 class=\"item__text title\">${original_title}</h3>\n                <h3 class=\"item__text\">${genres} | ${relise}</h3>\n            </div>\n            </a>\n        </li>`;\n      getEl('.gallery').insertAdjacentHTML('beforeend', markup);\n    })\n    .join('');\n}\n\nexport async function createGallery(page) {\n  if (localStorage.getItem('current-page-number')) {\n    page = localStorage.getItem('current-page-number');\n  } else {\n    page = 1;\n  }\n  const genresArr = await fetchGenres().then(data => data.genres);\n  const filmsArr = await fetchAPI(page).then(data => data.results);\n  getGenreNames(filmsArr, genresArr);\n  createGalleryMarkup(filmsArr);\n}\n\nfunction clockOnLogo() {\n  localStorage.removeItem('current-memory-search');\n  localStorage.removeItem('current-page-number');\n  page = 1;\n  createGallery(page);\n}\n","import { createGallery } from '../gallery/gallery-render';\nimport { searchQuery } from '../search/search';\n\nconst getEl = selector => document.querySelector(selector);\nlet page = Number(localStorage.getItem('current-page-number')) || 1;\n\ngetEl('.pagination__btn-wrap').addEventListener('click', clickOnBtnNum);\ngetEl('.pagination__btn.prev').addEventListener('click', clickOnArrowBtnPrev);\ngetEl('.pagination__btn.next').addEventListener('click', clickOnArrowBtnNext);\n\nactivePage();\nvalidFirstBtn(page);\n\nfunction clickOnArrowBtnPrev() {\n  getEl('.gallery').innerHTML = '';\n  const currentActiveBtn =\n    document.querySelector('.current-page') ||\n    Number(localStorage.getItem('current-page-number'));\n  if (currentActiveBtn) {\n    currentActiveBtn.classList.remove('current-page');\n  }\n  if (Number(currentActiveBtn.textContent) !== Number(1)) {\n    const pageNum = Number(currentActiveBtn.textContent) - 1;\n    localStorage.setItem('current-page-number', pageNum);\n    currentActiveBtn.previousElementSibling.classList.add('current-page');\n  } else {\n    const pageNum = 1;\n    localStorage.setItem('current-page-number', pageNum);\n    currentActiveBtn.classList.add('current-page');\n  }\n  validFirstBtn(Number(localStorage.getItem('current-page-number')) || 1);\n  createPrevBtn();\n  activePage();\n  if (localStorage.getItem('current-memory-search')) {\n    searchQuery(\n      Number(localStorage.getItem('current-page-number')) || 1,\n      localStorage.getItem('current-memory-search')\n    );\n  } else {\n    createGallery(Number(localStorage.getItem('current-page-number')) || 1);\n  }\n}\n\nfunction clickOnArrowBtnNext() {\n  getEl('.gallery').innerHTML = '';\n  const currentActiveBtn =\n    document.querySelector('.current-page') ||\n    Number(localStorage.getItem('current-page-number'));\n  if (currentActiveBtn) {\n    currentActiveBtn.classList.remove('current-page');\n  }\n  currentActiveBtn.nextElementSibling.classList.add('current-page');\n  const pageNum = Number(currentActiveBtn.textContent) + 1;\n  localStorage.setItem('current-page-number', pageNum);\n  validFirstBtn(Number(localStorage.getItem('current-page-number')) || 1);\n  createNextBtn();\n  activePage();\n  if (localStorage.getItem('current-memory-search')) {\n    searchQuery(\n      Number(localStorage.getItem('current-page-number')) || 1,\n      localStorage.getItem('current-memory-search')\n    );\n  } else {\n    createGallery(Number(localStorage.getItem('current-page-number')) || 1);\n  }\n}\n\nfunction clickOnBtnNum(e) {\n  getEl('.gallery').innerHTML = '';\n  const currentActiveBtn = document.querySelector('.current-page');\n  if (currentActiveBtn) {\n    currentActiveBtn.classList.remove('current-page');\n  }\n  e.target.classList.add('current-page');\n  page = e.target.textContent;\n  localStorage.setItem('current-page-number', page);\n  validFirstBtn(Number(localStorage.getItem('current-page-number')) || 1);\n  createPrevBtn();\n  createNextBtn();\n  activePage();\n  if (localStorage.getItem('current-memory-search')) {\n    searchQuery(\n      Number(localStorage.getItem('current-page-number')) || 1,\n      localStorage.getItem('current-memory-search')\n    );\n  } else {\n    createGallery(Number(localStorage.getItem('current-page-number')) || 1);\n  }\n}\n\nfunction createPrevBtn() {\n  const firstEl = getEl('.pagination__btn-wrap').firstElementChild;\n  const lastEl = getEl('.pagination__btn-wrap').lastElementChild;\n  const prevBtnIdx = Number(firstEl.dataset.index) - 1;\n  const prevBtnNum = prevBtnIdx + 1;\n  if (\n    firstEl.classList.contains('current-page') &&\n    Number(firstEl.dataset.index) !== 0\n  ) {\n    lastEl.remove();\n    const prevBtnMarkup = `<button class=\"pagination__btn num\" tupe=\"button\" data-index=\"${prevBtnIdx}\">${prevBtnNum}</button>`;\n    getEl('.pagination__btn-wrap').insertAdjacentHTML(\n      'afterbegin',\n      prevBtnMarkup\n    );\n  }\n}\n\nfunction createNextBtn() {\n  const firstEl = getEl('.pagination__btn-wrap').firstElementChild;\n  const lastEl = getEl('.pagination__btn-wrap').lastElementChild;\n  const nextBtnIdx = Number(lastEl.dataset.index) + 1;\n  const nextBtnNum = Number(nextBtnIdx) + Number(1);\n  if (lastEl.classList.contains('current-page')) {\n    firstEl.remove();\n    const nextBtnMarkup = `<button class=\"pagination__btn num\" tupe=\"button\" data-index=\"${nextBtnIdx}\">${nextBtnNum}</button>`;\n    getEl('.pagination__btn-wrap').insertAdjacentHTML(\n      'beforeend',\n      nextBtnMarkup\n    );\n  }\n}\n\nexport function validFirstBtn(page) {\n  if (Number(page) === 1) {\n    getEl('.pagination__btn.prev').classList.add('not-active');\n  } else {\n    getEl('.pagination__btn.prev').classList.remove('not-active');\n  }\n}\n\nexport function activePage() {\n  const locPageNum = localStorage.getItem('current-page-number');\n  const btnArr = document.querySelectorAll('.pagination__btn.num');\n  const currentActiveBtn = document.querySelector('.current-page');\n  const btnNumText = [...btnArr].find(\n    btn => Number(btn.textContent) === Number(locPageNum)\n  );\n  if (currentActiveBtn && btnNumText) {\n    currentActiveBtn.classList.remove('current-page');\n    btnNumText.classList.add('current-page');\n  }\n}\n","import { fetchGenres } from '../gallery/gallery-render';\nimport { getGenreNames } from '../gallery/gallery-render';\nimport { createGalleryMarkup } from '../gallery/gallery-render';\nimport { activePage } from '../pagination/pagination';\nimport { validFirstBtn } from '../pagination/pagination';\n\nconst BASE_URL = 'https://api.themoviedb.org/3';\nconst API_KEY = '14ce8915ef52d801924d89668f2ca827';\nlet page;\nlet name;\n\nconst getEl = selector => document.querySelector(selector);\n\ngetEl('.search-form').addEventListener('submit', onSubmit);\n\nfunction fetchSearch(page, name) {\n  return fetch(\n    `${BASE_URL}/search/movie?api_key=${API_KEY}&query=${name}&page=${page}`\n  )\n    .then(response => {\n      if (!response.ok) {\n        throw new Error(response.status);\n      }\n      return response.json();\n    })\n    .catch(error => error.status);\n}\n\nexport async function searchQuery(page, name) {\n  getEl('.gallery').innerHTML = '';\n  const genresArr = await fetchGenres().then(data => data.genres);\n  const filmsArr = await fetchSearch(page, name).then(data => data.results);\n  getGenreNames(filmsArr, genresArr);\n  createGalleryMarkup(filmsArr);\n}\n\nfunction onSubmit(e) {\n  e.preventDefault();\n  page = 1;\n  localStorage.setItem('current-page-number', page);\n  if (getEl('.search-form').elements.search.value === '') {\n    return;\n  } else {\n    name = getEl('.search-form').elements.search.value;\n    localStorage.setItem('current-memory-search', name);\n  }\n  validFirstBtn(page);\n  activePage();\n  searchQuery(page, name);\n}\n","const BASE_URL = 'https://api.themoviedb.org/3';\nconst API_KEY = '14ce8915ef52d801924d89668f2ca827';\nconst HTTPS_IMG_ORIGINAL = 'https://image.tmdb.org/t/p/original';\nlet src;\n\nconst getEl = selector => document.querySelector(selector);\n\ngetEl('.gallery').addEventListener('click', onPosterClick);\ngetEl('.modal__btn-close').addEventListener('click', closeModal);\ngetEl('.backdrop').addEventListener('click', onBackdropClick);\n\nfunction getMovieDetails(id) {\n  return fetch(`${BASE_URL}/movie/${id}?api_key=${API_KEY}`)\n    .then(response => {\n      if (!response.ok) {\n        throw new Error(response.status);\n      }\n      return response.json();\n    })\n    .catch(error => console.log(error));\n}\n\nfunction onPosterClick(e) {\n  e.preventDefault();\n  if (\n    (!e.target.closest('li') && !e.target.classList.contains('item')) ||\n    e.target.classList.contains('gallery')\n  ) {\n    return;\n  }\n  const idValue = e.target.closest('li').dataset.id;\n  getMovieDetails(idValue).then(data => {\n    createPosterMarkup(data);\n  });\n  openModal();\n}\n\nfunction openModal() {\n  document.addEventListener('keydown', onEscPress);\n  getEl('.backdrop').classList.remove('is-hidden');\n  getEl('body').classList.add('no-scroll');\n}\n\nfunction closeModal() {\n  document.removeEventListener('keydown', onEscPress);\n  getEl('.backdrop').classList.add('is-hidden');\n  getEl('body').classList.remove('no-scroll');\n  getEl('.modal__window').innerHTML = '';\n}\n\nfunction onBackdropClick(e) {\n  if (e.currentTarget === e.target) {\n    closeModal();\n  }\n}\n\nfunction onEscPress(e) {\n  if (e.code === 'Escape') {\n    closeModal();\n  }\n}\n\nfunction createPosterMarkup({\n  id,\n  original_title,\n  overview,\n  poster_path,\n  popularity,\n  vote_average,\n  vote_count,\n  genres,\n}) {\n  src = HTTPS_IMG_ORIGINAL + poster_path;\n  const popular = Math.round(popularity);\n  const genresName = genres.map(genre => genre.name).join(', ');\n  const markup = `\n            <div class=\"modal__container\">\n                <div class=\"modal__img-wrap\">\n                    <img class=\"modal__img\" src=\"${src}\" alt=\"${original_title}\">\n                </div>\n                <div class=\"modal__about-movie\">\n                    <h3 class=\"modal__title\" data-id=\"${id}\">${original_title}</h3>\n                    <div class=\"modal__text-wrap\">\n                        <ul>\n                            <li class=\"modal__text-characteristic\">Vote / Votes</li>\n                            <li class=\"modal__text-characteristic-value\"><span class=\"vote average\">${vote_average}</span> / <span class=\"vote count\">${vote_count}</span></li>\n                        </ul>\n                        <ul>\n                            <li class=\"modal__text-characteristic\">Popularity</li>\n                            <li class=\"modal__text-characteristic-value\">${popular}</li>\n                        </ul>\n                        <ul>\n                            <li class=\"modal__text-characteristic\">Original Title</li>\n                            <li class=\"modal__text-characteristic-value\">${original_title}</li>\n                        </ul>\n                        <ul>\n                            <li class=\"modal__text-characteristic\">Genre</li>\n                            <li class=\"modal__text-characteristic-value\">${genresName}</li>\n                        </ul>\n                    </div>\n                    <div class=\"modal__overview-wrap\">\n                        <h3 class=\"modal__overview-title\">About</h3>\n                        <p class=\"modal__overview-text\">${overview}</p>\n                    </div>\n                    <div class=\"modal__btn-wrap\">\n                        <button class=\"modal__btn w\" type=\"button\">add to Watched</button>\n                        <button class=\"modal__btn q\" type=\"button\">add to queue</button>\n                    </div>\n                </div>\n            </div>\n      `;\n  getEl('.modal__window').innerHTML = markup;\n}\n","const getEl = selector => document.querySelector(selector);\nlet timeOut;\n\nwindow.addEventListener('scroll', showBtn);\ngetEl('.scroll__btn').addEventListener('click', scrollUp);\n\nfunction showBtn() {\n  if (Math.round(document.documentElement.scrollTop) > 230) {\n    timeOut = setTimeout(() => {\n      setTimeout(() => {\n        if (Math.round(document.documentElement.scrollTop) > 230) {\n          getEl('.scroll__btn').classList.remove('is-hidden');\n        }\n      }, 1);\n    }, 1000);\n  } else {\n    getEl('.scroll__btn').classList.add('is-hidden');\n    clearTimeout(timeOut);\n  }\n}\n\nexport function scrollUp() {\n  getEl('.scroll__btn').classList.add('is-hidden');\n  if (document.documentElement.scrollTop > 0) {\n    window.scrollTo({ top: 0, left: 0, behavior: 'smooth' });\n  }\n}\n"],"names":["$58a6b4b7e5ce1881$var$src","$58a6b4b7e5ce1881$var$page","$58a6b4b7e5ce1881$var$getEl","selector","document","querySelector","$58a6b4b7e5ce1881$export$e95d448b93b2cdb","fetch","then","response","ok","Error","status","json","catch","error","$58a6b4b7e5ce1881$export$c30aae9ef29dd78e","filmsArr","genresArr","forEach","film","names","genre_ids","map","id","objId","find","genre","name","genres","length","join","$58a6b4b7e5ce1881$export$d1a90ff088af967d","data","poster_path","original_title","release_date","relise","slice","markup","insertAdjacentHTML","async","$58a6b4b7e5ce1881$export$dac8b9bf675ebb55","page2","localStorage","getItem","page1","results","addEventListener","removeItem","$6077aa4079e9cd36$var$getEl","$6077aa4079e9cd36$var$page","Number","$6077aa4079e9cd36$var$createPrevBtn","firstEl","firstElementChild","lastEl","lastElementChild","prevBtnIdx","dataset","index","prevBtnNum","classList","contains","remove","prevBtnMarkup","$6077aa4079e9cd36$var$createNextBtn","nextBtnIdx","nextBtnNum","nextBtnMarkup","$6077aa4079e9cd36$export$a05ca3932ddc08da","add","$6077aa4079e9cd36$export$ba319923d57aa6fe","locPageNum","btnArr","querySelectorAll","currentActiveBtn","btnNumText","btn","textContent","e","innerHTML","target","setItem","$15b632d33df2528b$export$737148d43a127671","pageNum","previousElementSibling","nextElementSibling","$15b632d33df2528b$var$page","$15b632d33df2528b$var$name","$15b632d33df2528b$var$getEl","name2","name1","preventDefault","elements","search","value","$7c126d120175999e$var$src","$7c126d120175999e$var$getEl","$7c126d120175999e$var$closeModal","removeEventListener","$7c126d120175999e$var$onEscPress","code","closest","console","log","overview","popularity","vote_average","vote_count","popular","Math","round","genresName","$7c126d120175999e$var$createPosterMarkup","currentTarget","$d9c7f58668f6d9ba$var$getEl","$d9c7f58668f6d9ba$var$timeOut","window","documentElement","scrollTop","setTimeout","clearTimeout","scrollTo","top","left","behavior"],"version":3,"file":"library.6d7b0f6d.js.map"}